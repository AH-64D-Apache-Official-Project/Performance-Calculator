import {InterpTable, InterpTable2D} from './util'
//Empty masses
export const emptyMassFCR         = 6609;    //kg
export const emptyMassNonFCR      = 6314;    //kg
//Initial fuel fractions
export const initFuelFracRobbie   = 0.39;   //%
export const initFuelFracNoRobbie = 0.22;   //%
//Fuel Masses
export const maxFwdFuelMass       = 473;  //kg
export const maxCtrFuelMass       = 301;  //kg
export const maxAftFuelMass       = 669;  //kg

export const maxTqDE = new InterpTable2D(
  [-40,-20,0,20,40],
  [ 0, 2000, 4000, 6000, 8000 ],
  [
//  | -40 | -20 |  0  |  20 |  40  |  
    [ 1.29, 1.34, 1.35, 1.27, 1.15 ], //0
    [ 1.28, 1.33, 1.31, 1.20, 1.05 ], //2000
    [ 1.19, 1.23, 1.21, 1.11, 0.96 ], //4000
    [ 1.11, 1.15, 1.12, 1.02, 0.88 ], //6000
    [ 1.03, 1.07, 1.03, 0.94, 0.79 ]  //8000
  ]
)

export const maxTqSE = new InterpTable2D(
  [-40,-20,0,20,40],
  [ 0, 2000, 4000, 6000, 8000 ],
  [
//  | -40 | -20 |  0  |  20 |  40  |     
    [ 1.30, 1.34, 1.36, 1.31, 1.23 ], //0
    [ 1.26, 1.31, 1.34, 1.25, 1.12 ], //2000
    [ 1.17, 1.22, 1.24, 1.15, 1.02 ], //4000
    [ 1.09, 1.13, 1.14, 1.06, 0.93 ], //6000
    [ 1.01, 1.05, 1.05, 0.97, 0.85 ]  //8000
  ]
)

export const maxGwtIGE = new InterpTable2D(
  [-40,-20,0,20,40],
  [ 0, 2000, 4000, 6000, 8000 ],
  [
//  | -40  |  -20 |   0  |   20 |   40  |    
    [ 20260, 20260, 20260, 20260, 20260 ],  //0
    [ 20260, 20260, 20260, 20260, 20260 ],  //2000
    [ 20260, 20260, 20260, 20260, 19644 ],  //4000
    [ 20260, 20260, 20260, 20088, 18006 ],  //6000
    [ 20260, 20260, 19959, 18747, 16437 ]   //8000
  ]
)

export const maxGwtOGE = new InterpTable2D(
  [-40,-20,0,20,40],
  [ 0, 2000, 4000, 6000, 8000 ],
  [
//  | -40  |  -20 |   0  |   20 |   40  |
    [ 19442, 19122, 18973, 18781, 18458 ],  //0
    [ 18953, 18691, 18751, 18378, 18045 ],  //2000
    [ 18449, 18252, 18153, 17959, 17157 ],  //4000
    [ 17949, 17805, 17722, 17526, 15722 ],  //6000
    [ 17453, 17352, 17273, 16359, 14349 ]   //8000
  ]
)

export const goNoGoTqIGE = new InterpTable2D(
    [-40,-20,0,20,40],
    [ 0, 2000, 4000, 6000, 8000 ],
    [
//    | -40 | -20 |  0  |  20 |  40  |  
      [ 0.86, 0.88, 0.90, 0.92, 0.94 ], //0
      [ 0.88, 0.90, 0.92, 0.94, 0.97 ], //2000
      [ 0.91, 0.93, 0.95, 0.98, 0.96 ], //4000
      [ 0.94, 0.96, 0.98, 1.00, 0.88 ], //6000
      [ 0.97, 1.00, 1.00, 0.94, 0.79 ]  //8000
    ]
)

export const goNoGoTqOGE = new InterpTable2D(
    [-40,-20,0,20,40],
    [ 0, 2000, 4000, 6000, 8000 ],
    [
//    | -40 | -20 |  0  |  20 |  40  |  
      [ 0.82, 0.82, 0.82, 0.83, 0.82 ], //0
      [ 0.81, 0.81, 0.82, 0.82, 0.82 ], //2000
      [ 0.81, 0.81, 0.82, 0.82, 0.79 ], //4000
      [ 0.80, 0.81, 0.81, 0.82, 0.72 ], //6000
      [ 0.80, 0.80, 0.81, 0.77, 0.65 ]  //8000
    ]
)

//20 deg C------------------------|--0'   PA--|--2K'  PA--|--4K'  PA--|--6K'  PA--|--8K'  PA--|
//----------------------------GWT-|-IGE---OGE-|
export const hvrTqIGE = new InterpTable(
    [5896, 6350, 6803, 7257, 7711, 8164, 8618, 9072, 9525],
    [0.53, 0.57, 0.62, 0.67, 0.73, 0.78, 0.84, 0.9, 0.96])

export const hvrTqOGE = new InterpTable(
    [5896, 6350, 6803, 7257, 7711, 8164, 8618, 9072, 9525],
    [0.62, 0.68, 0.74, 0.81, 0.87, 0.94, 1.02, 1.09, 1.17])
  
/**
 * Input: speed(kts), GWT(kg)
 * Output: Cruise torque(%)
 */
export const cruiseTq = new InterpTable2D(
    [24,40,60,70,90,100,120,130,150],
    [5897, 6350, 6804, 7257, 7711, 8165, 8618, 9072, 9525],
    [
     [ 0.55, 0.45, 0.39, 0.38, 0.41, 0.45, 0.56, 0.65, 0.91],
     [ 0.59, 0.48, 0.41, 0.40, 0.44, 0.47, 0.60, 0.68, 0.96],
     [ 0.64, 0.51, 0.44, 0.43, 0.46, 0.50, 0.63, 0.72, 1.01],
     [ 0.69, 0.54, 0.47, 0.46, 0.49, 0.53, 0.66, 0.76, 1.06],
     [ 0.69, 0.58, 0.50, 0.49, 0.52, 0.56, 0.69, 0.80, 1.12],
     [ 0.80, 0.62, 0.54, 0.52, 0.55, 0.59, 0.73, 0.84, 1.18],
     [ 0.87, 0.68, 0.58, 0.56, 0.59, 0.62, 0.77, 0.88, 1.26],
     [ 0.94, 0.74, 0.62, 0.60, 0.62, 0.66, 0.81, 0.93, 1.36],
     [ 1.01,  0.8, 0.66, 0.64, 0.66,  0.7, 0.86, 1.00, 1.48]
    ]
)

/**
 * Input: Torque(%)
 * Output: Fuel flow(kg/s)
 */
export const engFF = new InterpTable(
    [0, 0.07, 0.15, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4],
    [0, 0.0216,  0.035, 0.0432,  0.048, 0.0535, 0.0598, 0.0661, 0.0732, 0.0803, 0.0866, 0.0929, 0.0992, 0.1055, 0.1118])